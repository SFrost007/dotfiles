#!/bin/bash
#
# Backs up specified directories from hosting server using RSync
# Relies upon host being correctly configured in ssh/config
#

if [ $(hostname) == 'zion' ]; then

  RSYNC=/usr/bin/rsync
  SSH=/usr/bin/ssh
  RHOST=apollo
  TARGET=/storage/HostingBackup

  remotepaths=(
    /home/orangen
    /var/www
  )

  for copypath in "${remotepaths[@]}"; do
    $RSYNC -avz -e $SSH $RHOST:$copypath $TARGET$copypath
  done

else
  echo 'This script is only intended to be run on Zion'
fi
